<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Make a Spiral</title>
</head>
<body>
<script>
var spiralize = function(size) {
	var spiral = [],
	    maxWidth = size - 1,
	    minWidth = 0,
	    maxHeight = size - 1,
	    minHeight = 0,
	    currentX = 0,
	    currentY = 0,
	    direction = 'r',
	    i, n;

	// Fill the arrays with 0's.
	for ( i = 0; i < size; i++ ) {
		spiral[ i ] = [];
		for ( n = 0; n < size; n++ ) {
			spiral[ i ][ n ] = 0;
		}
	}

	while ( true ) {
		spiral[ currentY ][ currentX ] = 1;

		if ( 'r' === direction ) {
			if ( currentX < maxWidth ) {
				currentX += 1;
			} else if ( currentY + 1 <= maxHeight ) {
				// turn down
				direction = 'd';
				minHeight += 2;
			} else {
				direction = 'end';
			}
		} else if ( 'd' === direction ) {
			if ( currentY < maxHeight ) {
				currentY += 1;
			} else if ( currentX - 1 > minWidth ) {
				// turn left
				direction = 'l';
				maxWidth -= 2;
			} else {
				direction = 'end';
			}
		} else if ( 'l' === direction ) {
			if ( currentX > minWidth ) {
				currentX -= 1;
			} else if ( currentY - 1 > minHeight ) {
				// turn up
				direction = 'u';
				maxHeight -= 2;
			} else {
				direction = 'end';
			}
		} else if ( 'u' === direction ) {
			if ( currentY > minHeight ) {
				currentY -= 1;
			} else if ( currentX + 1 < maxWidth ) {
				// turn right
				direction = 'r';
				minWidth += 2;
			} else {
				direction = 'end';
			}
		} else {
			break;
		}

		if ( 'end' === direction ) {
			break;
		}
	}

  return spiral;
}

console.log( spiralize( 5 ) );

</script>

<h1>Make a Spiral</h1>
<h2>Description:</h2>

<p>Your task, is to create a NxN spiral with a given size.</p>

<p>For example, spiral with size 5 should look like this:</p>

<pre>
   01234
   -----
0| 00000
1| ....0
2| 000.0
3| 0...0
4| 00000
</pre>

<p>and with the size 10:</p>

<pre>
   0123456789
   ----------
0| 0000000000
1| .........0
2| 00000000.0
3| 0......0.0
4| 0.0000.0.0
5| 0.0..0.0.0
6| 0.0....0.0
7| 0.000000.0
8| 0........0
9| 0000000000
</pre>

<p>Return value should contain array of arrays, of 0 and 1, for example for given size 5 result should be:</p>

[[1,1,1,1,1],[0,0,0,0,1],[1,1,1,0,1],[1,0,0,0,1],[1,1,1,1,1]]

<p>Because of the edge-cases for tiny spirals, the size will be at least 5.</p>

<p>General rule-of-a-thumb is, that the snake made with '1' cannot touch to itself.</p>

<p><small>Source: http://www.codewars.com/</small></p>

</body>
</html>